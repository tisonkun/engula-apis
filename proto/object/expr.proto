syntax = "proto3";

package engula.v1;

import "object/value.proto";
import "object/function.proto";

// TODO:
// - errors
// - filters
// - conditions

message Expr {
  oneof from {
    bytes id = 1;
    GenericValue index = 2;
  }
  CallExpr call = 3;
  repeated Expr subexprs = 4;
}

message ExprResult { repeated GenericValue values = 1; }

message CallExpr {
  Function func = 1;
  repeated GenericValue args = 2;
}
